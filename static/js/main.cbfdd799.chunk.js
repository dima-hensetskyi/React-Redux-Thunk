(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(10),o=n.n(s),i=(n(98),n(52)),d=n(13),u=n(7),l=n(15),p=n(140),b=n(27),j=n.n(b),h=n(47),m="USERS/ADD_USER",O="USERS/FETCH_USERS",f="APP/SHOW_LOADER",x="APP/HIDE_LOADER",g="APP/SHOW_ALERT",v="APP/HIDE_ALERT",w="APP/DOWNLOAD_USERS",y="APP/DOWNLOAD_POSTS",N="POSTS/CREATE_POST",k="POSTS/FETCH_POSTS",S="POSTS/SET_VALUE_BUTTONS";function A(){return{type:f}}function T(){return{type:x}}function P(e,t){return function(n){n({type:g,payload:e,typeAlert:t}),setTimeout((function(){n({type:v})}),3e3)}}function E(){return{type:y}}var U=" http://domer.tech:9999/users/",C=function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A()),e.next=3,fetch(U);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t({type:O,payload:a.data}),setTimeout((function(){t({type:w}),t(T())}),700);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=n(50),_=n(51);function D(){var e=Object(I.a)(["\n  margin 10px;\n  min-width: 64px;\n  width: 15vw;\n  background-color: #3f51b5;\n  color: #fff;\n  font-size: 1rem;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  font-weight: 700;\n  text-transform: uppercase;\n  outline: none !important;\n  padding: 6px 16px;\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  line-height: 1.75;\n  border-radius: 4px;\n  letter-spacing: 0.02857em;\n  border: none;\n  :hover {\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n      0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n    background-color: #303f9f;\n  }\n  :active {\n    box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n      0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n  }\n"]);return D=function(){return e},e}function H(){var e=Object(I.a)(["\n  color: white;\n  width: 35vw; \n  height: 15vh;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  position: relative; \n  min-width: 0;\n  background: ",";\n  box-shadow: 0 4px 20px 0 rgb(0 0 0 / 14%),\n    0 7px 10px -5px rgb(76 175 80 / 40%);\n  margin-top: 30px;\n  border-radius: 6px;\n  margin-bottom: 30px;\n  font-size: 140%;\n}\n"]);return H=function(){return e},e}function L(){var e=Object(I.a)(["\n  color: rgba(0, 0, 0, 0.87);\n  width: 40vw;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  justify-content: center;\n  position: relative; \n  font-size: .875rem;\n  min-width: 0;\n  background: #FFF;\n  box-shadow: 0 1px 4px 0 rgb(0 0 0 / 14%);\n  margin-top: 30px;\n  border-radius: 6px;\n  margin-bottom: 30px;\n}\n"]);return L=function(){return e},e}function R(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  padding: 15px;\n  margin: -30px 100px 5px -170px;\n  background: ",";\n  box-shadow: 0 4px 20px 0 rgb(0 0 0 / 14%), 0 7px 10px -5px rgb(76 175 80 / 40%);\n  height: 60px;\n  width: 60px;\n"]);return R=function(){return e},e}function F(){var e=Object(I.a)(["\n  margin 5px;\n  width: 100%;\n  height: 5vh;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  outline: none !important;\n  :focus {\n    color: #212529;\n    background-color: #fff;\n    border-color: #86b7fe;\n    outline: 0;\n    box-shadow: 0 0 0 0.25rem rgb(13 110 253 / 25%);\n  }\n  :invalid:not(:focus):not(:placeholder-shown) {\n    background: pink;\n  }\n  :not(:placeholder-shown) { \n    :valid {\n      border: 1px solid greenyellow;\n    }\n    :invalid{\n      border: 1px solid red;\n    }\n  }\n"]);return F=function(){return e},e}var z=["linear-gradient(60deg, #66bb6a, #43a047)","linear-gradient(60deg, #ffa726, #fb8c00)","linear-gradient(60deg, #ef5350, #e53935)"],q=Math.floor(Math.random()*z.length),M=Math.floor(Math.random()*z.length),B=_.a.input(F()),V=_.a.div(R(),z[q]),W=_.a.div(L()),J=_.a.div(H(),z[M]),X=_.a.button(D()),$=(n(69),function(e){var t=e.name,n=e.username,r=e.avatar;e.id;return Object(a.jsx)(J,{children:Object(a.jsxs)("div",{className:"author",children:[Object(a.jsx)("img",{className:"user-photo",src:r,alt:"autor ".concat(t)}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsxs)("p",{children:["Name: ",Object(a.jsx)("span",{className:"name",children:t})]}),Object(a.jsxs)("p",{className:"autor-information",children:["Nickname:",Object(a.jsx)("span",{className:"name",children:" @".concat(n)})]})]})]})})}),G=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.users.users})),n=Object(l.d)((function(e){return e.app.loading})),c=Object(l.d)((function(e){return e.app.downloadUsers}));return Object(r.useEffect)((function(){c||e(C())}),[c]),n?Object(a.jsx)("div",{className:"loader",children:Object(a.jsx)(p.a,{})}):Object(a.jsx)("div",{className:"users-list",children:t.map((function(e,t){return Object(r.createElement)($,Object(u.a)(Object(u.a)({},e),{},{key:t}))}))})},K=n(22),Q=n(63),Y=n(64),Z=n(67),ee=n(66),te=n(152),ne=function(e){var t=e.text,n=e.typeAlert;return Object(a.jsx)(te.a,{severity:n,children:t})},ae=function(e){Object(Z.a)(n,e);var t=Object(ee.a)(n);function n(e){var a;return Object(Q.a)(this,n),(a=t.call(this,e)).resetInput=function(){a.setState({name:"",username:"",avatar:""})},a.changeInputHendler=function(e){a.setState((function(t){return Object(u.a)(Object(u.a)({},t),Object(K.a)({},e.target.name,e.target.value))}))},a.submitHendler=function(e){var t=a.state,n=t.username,r=t.avatar,c=t.name,s=/^(ftp|http|https):\/\/[^ "]+$/.test(r);if(!(c.length>2||n.length>2)||!s)return a.props.showAlert("The information you entered is incorrect. Try again with different info.","warning");var o={name:c,username:n,avatar:r};a.props.addUsers(o),a.resetInput()},a.state={name:"",username:"",avatar:""},a}return Object(Y.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"add-user-form",children:[Object(a.jsxs)(W,{children:[Object(a.jsx)(V,{children:Object(a.jsx)("span",{className:"material-icons",children:"manage_accounts"})}),Object(a.jsx)("h1",{children:"Add new user"}),Object(a.jsx)(B,{pattern:".{3,}",required:!0,type:"name",placeholder:"Name*",value:this.state.name,onChange:this.changeInputHendler,name:"name"}),Object(a.jsx)(B,{pattern:".{3,}",placeholder:"Nickname*",value:this.state.username,onChange:this.changeInputHendler,name:"username",required:!0}),Object(a.jsx)(B,{placeholder:"Link for avatar*",value:this.state.avatar,onChange:this.changeInputHendler,name:"avatar",type:"url",required:!0}),Object(a.jsx)(X,{onClick:this.submitHendler,children:"Submit"})]}),Object(a.jsx)("div",{className:"alert",children:this.props.alert&&Object(a.jsx)(ne,{text:this.props.alert,typeAlert:this.props.typeAlert})})]})}}]),n}(c.a.Component),re={addUsers:function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return a=t.sent,t.next=6,a.json();case 6:t.sent.success?n(P("User successfully added")):n(P("No user added. Something went wrong.","error")),n({type:m,payload:e}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),n(P("Something went wrong...","warning")),n(T());case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},showAlert:P},ce=Object(l.b)((function(e){return{addUserSuccess:e.users.success,alert:e.app.alert,typeAlert:e.app.typeAlert}}),re)(ae),se="http://domer.tech:9999/tweets/";var oe=function(e,t,n,a){return{type:S,payload:{id:e,addButton:t,buttonValue:n,buttonType:a}}},ie=n(83),de=n.n(ie),ue=n(153),le=n(145),pe=n(146),be=n(147),je=n(148),he=(n(70),function(e){var t=e.author,n=e.content,r=e.image,c=e.comment,s=void 0===c?0:c,o=e.share,i=void 0===o?0:o,d=e.like,u=void 0===d?0:d,p=e.id,b=e.addcomment,j=void 0!==b&&b,h=e.addshare,m=void 0!==h&&h,O=e.addlike,f=void 0!==O&&O,x=Object(l.c)(),g=me(),v=(new Date).getMonth(),w=(new Date).getDate(),y=new Intl.DateTimeFormat("en-US",{month:"long"}).format(v),N=function(e){var t=e.target.id;switch(t){case"comment":x(oe(p,j,s,t));break;case"share":x(oe(p,m,i,t));break;case"like":x(oe(p,f,u,t));break;default:return}};return Object(a.jsxs)(ue.a,{className:g.root,children:[Object(a.jsx)(le.a,{expandIcon:Object(a.jsx)(de.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",className:g.heading,children:Object(a.jsx)(pe.a,{className:g.heading,component:"div",children:Object(a.jsxs)("div",{className:"author",children:[Object(a.jsx)("img",{src:t.avatar,alt:"author"}),Object(a.jsx)("p",{className:"name",children:t.name}),Object(a.jsx)("p",{className:"autor-information",children:"".concat(t.username)}),Object(a.jsx)("p",{className:"autor-information",children:"\u2022"}),Object(a.jsx)("p",{className:"autor-information",children:"".concat(w," ").concat(y)})]})})}),Object(a.jsx)(be.a,{children:Object(a.jsxs)(pe.a,{component:"div",children:[Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("p",{className:"content-text",children:n}),Object(a.jsx)("img",{src:r,alt:"post content"})]}),Object(a.jsxs)("div",{className:"badges",children:[Object(a.jsxs)("span",{id:"comment",className:"badg",onClick:N,children:[Object(a.jsx)("i",{id:"comment",className:"far fa-comment-alt"}),s]}),Object(a.jsxs)("span",{id:"share",className:"badg",onClick:N,children:[Object(a.jsx)("i",{id:"share",className:"fas fa-share-alt"}),i]}),Object(a.jsxs)("span",{id:"like",className:"badg",onClick:N,children:[f?Object(a.jsx)("i",{id:"like",className:"fas fa-heart"}):Object(a.jsx)("i",{id:"like",className:"far fa-heart"}),u]}),Object(a.jsx)("span",{id:"forward",className:"badg",onClick:N,children:Object(a.jsx)("i",{id:"forward",className:"far fa-share-square"})})]})]})})]})}),me=Object(je.a)((function(e){return{root:{width:"600px",color:"#fff",backgroundColor:"#1976d2",border:"0",marginBottom:"20px",marginTop:"10px"},heading:{height:"85px"}}})),Oe=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.posts.posts})),n=Object(l.d)((function(e){return e.users.users})),c=Object(l.d)((function(e){return e.app.downloadUsers})),s=Object(l.d)((function(e){return e.app.downloadPosts})),o=Object(l.d)((function(e){return e.app.loading}));return Object(r.useEffect)((function(){c||e(C()),s||(e(E()),e(function(){var e=Object(h.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A()),e.next=3,fetch(se);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t({type:k,payload:a.data}),setTimeout((function(){t(T())}),700);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[E]),o?Object(a.jsx)("div",{className:"loader",children:Object(a.jsx)(p.a,{})}):Object(a.jsx)("div",{className:"posts-list",children:t.map((function(e){var t=n.find((function(t){return t.id===e.userId}));if(t){var a=Object(u.a)(Object(u.a)({},e),{},{author:t});return Object(r.createElement)(he,Object(u.a)(Object(u.a)({},a),{},{key:e.id}))}}))})},fe=n(149),xe=n(154),ge=n(151),ve=n(150),we=function(e){Object(Z.a)(n,e);var t=Object(ee.a)(n);function n(e){var a;return Object(Q.a)(this,n),(a=t.call(this,e)).changeInputHendler=function(e){a.setState((function(t){return Object(u.a)(Object(u.a)({},t),Object(K.a)({},e.target.name,e.target.value))}))},a.resetInput=function(){a.setState({content:"",image:"",userId:""})},a.submitHendler=function(e){var t=a.state,n=t.content,r=t.image,c=t.userId,s=/^(ftp|http|https):\/\/[^ "]+$/.test(r);if(!(n.length>2)||!s||!c)return a.props.showAlert("The information you entered is incorrect. Try again with different info.","warning");var o={content:n,image:r,userId:+c};console.log(o),a.props.createPost(o),a.resetInput()},a.state={content:"",image:"",userId:""},a}return Object(Y.a)(n,[{key:"componentDidMount",value:function(){this.props.downloadUsers||this.props.fetchUsers()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"post-form",children:[Object(a.jsxs)(W,{children:[Object(a.jsx)(V,{children:Object(a.jsx)("span",{className:"material-icons",children:"post_add"})}),Object(a.jsx)("h1",{children:"Add new Post"}),Object(a.jsxs)(fe.a,{required:!0,className:"select",children:[Object(a.jsx)(xe.a,{htmlFor:"user",children:"User"}),Object(a.jsxs)(ge.a,{native:!0,value:this.state.user,onChange:this.changeInputHendler,name:"userId",inputProps:{id:"user"},children:[Object(a.jsx)("option",{"aria-label":"None",value:""}),this.props.users.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsx)(ve.a,{children:"Pick user"})]}),Object(a.jsx)(B,{pattern:".{5,}",placeholder:"Write you tweet*",value:this.state.content,onChange:this.changeInputHendler,name:"content",required:!0}),Object(a.jsx)(B,{placeholder:"Link for image*",value:this.state.image,onChange:this.changeInputHendler,name:"image",type:"url",required:!0}),Object(a.jsx)(X,{onClick:this.submitHendler,children:"Submit"})]}),Object(a.jsx)("div",{className:"alert",children:this.props.alert&&Object(a.jsx)(ne,{text:this.props.alert,typeAlert:this.props.typeAlert})})]})}}]),n}(c.a.Component),ye={createPost:function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return a=t.sent,t.next=6,a.json();case 6:t.sent.success?n(P("Post successfully added")):n(P("No post added. Something went wrong.","error")),n({type:N,payload:e}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),n(P("Something went wrong...","warning")),n(T());case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},showAlert:P,fetchUsers:C},Ne=Object(l.b)((function(e){return{downloadUsers:e.app.downloadUsers,users:e.users.users,addUserSuccess:e.users.success,alert:e.app.alert,typeAlert:e.app.typeAlert}}),ye)(we),ke=function(){return Object(a.jsxs)(i.a,{children:[Object(a.jsxs)("nav",{className:"nav-panel",children:[Object(a.jsx)(i.b,{to:"/users",className:"app-link",activeClassName:"active-link",children:"Users"}),Object(a.jsx)(i.b,{to:"/addUser",className:"app-link",activeClassName:"active-link",children:"Add User"}),Object(a.jsx)(i.b,{to:"/tweets",className:"app-link",activeClassName:"active-link",children:"Tweets"}),Object(a.jsx)(i.b,{to:"/add-tweet",className:"app-link",activeClassName:"active-link",children:"Add tweet"})]}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/users",component:G}),Object(a.jsx)(d.a,{path:"/addUser",component:ce}),Object(a.jsx)(d.a,{path:"/tweets",component:Oe}),Object(a.jsx)(d.a,{path:"/add-tweet",component:Ne}),Object(a.jsx)(d.a,{path:"/",component:ce})]})]})};n(110);var Se=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(ke,{})})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,156)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},Te=n(32),Pe=n(34),Ee={users:[]},Ue={loading:!1,downloadUsers:!1,downloadPosts:!1,alert:null,typeAlert:""},Ce={posts:[]},Ie=Object(Te.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(Pe.a)(e.posts),[t.payload])});case k:return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(Pe.a)(e.posts),Object(Pe.a)(t.payload))});case S:var n=e.posts.map((function(e){var n,a,r=t.payload,c=r.id,s=r.addButton,o=r.buttonValue,i=r.buttonType;return e.id===c?s?(o-=1,s=!1,Object(u.a)(Object(u.a)({},e),{},(n={},Object(K.a)(n,"".concat(i),o),Object(K.a)(n,"add".concat(i),s),n))):(o+=1,s=!0,Object(u.a)(Object(u.a)({},e),{},(a={},Object(K.a)(a,i,o),Object(K.a)(a,"add".concat(i),s),a))):e}));return Object(u.a)(Object(u.a)({},e),{},{posts:n});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(Pe.a)(e.users),[t.payload])});case O:return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(Pe.a)(e.users),Object(Pe.a)(t.payload))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case x:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case g:return Object(u.a)(Object(u.a)({},e),{},{alert:t.payload,typeAlert:t.typeAlert});case v:return Object(u.a)(Object(u.a)({},e),{},{alert:null});case w:return Object(u.a)(Object(u.a)({},e),{},{downloadUsers:!0});case y:return Object(u.a)(Object(u.a)({},e),{},{downloadPosts:!0});default:return e}}}),_e=n(84),De=Object(Te.e)(Ie,Object(Te.d)(Object(Te.a)(_e.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{store:De,children:Object(a.jsx)(Se,{})})}),document.getElementById("root")),Ae()},69:function(e,t,n){},70:function(e,t,n){},98:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.cbfdd799.chunk.js.map